<!doctype html>
<html lang="fr" class="h-full">
  <head>
    <!-- ===============================
         M√âTA-INFOS ET CONFIGURATION DE BASE
         =============================== -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wild Drafter</title>

    <!-- ===============================
         POLICES ET STYLES
         =============================== -->
    <!-- Pr√©chargement des polices Google -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Police principale : Inter (400, 600, 800) -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap"
      rel="stylesheet"
    >
    <!-- Feuille de style principale -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
  </head>

  <body class="dark">
    <!-- ===============================
         EN-T√äTE DU SITE
         =============================== -->
    <header class="header">
      <div class="container header-flex">

        <!-- Logo + Nom du projet -->
        <div
          class="brand clickable"
          id="brand-restart"
          onclick="window.location.href='/'"
        >
          <img
            class="brand-logo"
            src="{{ url_for('static', filename='icons/jungle.png') }}"
            alt="Logo Jungle"
          >
          <div>
            <div class="brand-title">Wild Drafter</div>
            <div class="brand-sub">Assistant de draft jungle</div>
          </div>
        </div>

        <!-- üîß Bouton Live Preview + Ic√¥ne Admin -->
<div class="header-right" style="display: flex; align-items: center; gap: 16px;">
  
  <!-- üî¥ Bouton Live Preview global -->
  <button id="toggle-live" class="btn-live disabled" title="Live Preview">
    <span class="live-dot"></span>
    Live Preview
  </button>

  <!-- ‚öôÔ∏è Ic√¥ne d‚Äôacc√®s √† la page d‚Äôadministration -->
  <div
    class="admin-icon-wrap"
    onclick="window.location.href='/admin'"
    title="Administration"
  >
    <span class="admin-emoji">‚öôÔ∏è</span>
  </div>

</div>

      </div>
    </header>

    <!-- ===============================
         CONTENU PRINCIPAL
         (rempli dynamiquement selon la page)
         =============================== -->
    <main class="container">
      {% block content %}{% endblock %}
    </main>

    <!-- ===============================
         PIED DE PAGE
         =============================== -->
    <footer class="footer">
      <div class="container">
        <span>üõ†Ô∏è Wild x ChatGPT - {{ 2025 }} </span>
      </div>
    </footer>

    <!-- ===============================
         BLOCS DE SCRIPTS SP√âCIFIQUES √Ä CHAQUE PAGE
         =============================== -->
    {% block scripts %}{% endblock %}

    <!-- ===============================
         TRANSITION / ANIMATION (placeholder)
         =============================== -->
    <div id="transition-wrapper" class="transition-wrapper"></div>

    <!-- ===============================
         SCRIPT G√âN√âRAL DE NAVIGATION
         (redirection au clic sur le logo)
         =============================== -->
    <script>
    document.addEventListener("DOMContentLoaded", () => {
      const restart = document.getElementById("brand-restart");
      if (restart) {
        restart.addEventListener("click", () => window.location.href = "/");
      }
    });
    </script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const liveBtn = document.getElementById("toggle-live");
  if (!liveBtn) return;

  // ‚úÖ Active le bouton uniquement sur la page questionnaire
  const isQuestionPage = window.location.pathname === "/" || window.location.pathname.includes("index");

  if (isQuestionPage) {
    liveBtn.classList.remove("disabled");
    liveBtn.addEventListener("click", () => {
      const livePanel = document.getElementById("live-preview");
      if (livePanel) livePanel.classList.toggle("visible");
    });
  } else {
    liveBtn.classList.add("disabled");
  }
});
</script>

  </body>
</html>
